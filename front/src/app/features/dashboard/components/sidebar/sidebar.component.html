<aside
    class="h-full flex flex-col bg-dark-surface border-r-2 border-dark-border transition-all duration-300 overflow-hidden select-none"
    [class.w-56]="!collapsed" [class.w-16]="collapsed">
    <!-- Logo Area -->
    <div class="h-14 flex items-center justify-center border-b-2 border-dark-border shrink-0">
        <div class="font-black text-lg tracking-tighter truncate px-4">
            <ng-container *ngIf="!collapsed">
                <span class="text-primary">SPORT</span><span class="text-secondary">PLANNER</span>
            </ng-container>
            <ng-container *ngIf="collapsed">
                <span class="text-primary">S</span><span class="text-secondary">P</span>
            </ng-container>
        </div>
    </div>

    <!-- Navigation -->
    <nav class="flex-1 py-4 px-2 space-y-1 overflow-y-auto">
        <a routerLink="/dashboard" routerLinkActive="bg-primary text-black border-primary"
            [routerLinkActiveOptions]="{exact: true}"
            class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-sm select-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                <polyline points="9 22 9 12 15 12 15 22" />
            </svg>
            <span class="ml-3 font-bold tracking-wide truncate transition-opacity duration-300"
                [class.opacity-0]="collapsed" [class.w-0]="collapsed" [class.hidden]="collapsed">
                {{ 'SIDEBAR.HOME' | translate }}
            </span>
        </a>

        <a routerLink="/dashboard/teams" routerLinkActive="bg-primary text-black border-primary"
            class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-sm select-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0">
                <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2" />
                <circle cx="9" cy="7" r="4" />
                <path d="M23 21v-2a4 4 0 0 0-3-3.87" />
                <path d="M16 3.13a4 4 0 0 1 0 7.75" />
            </svg>
            <span class="ml-3 font-bold tracking-wide truncate transition-opacity duration-300"
                [class.opacity-0]="collapsed" [class.w-0]="collapsed" [class.hidden]="collapsed">
                {{ 'SIDEBAR.MY_TEAMS' | translate }}
            </span>
        </a>







        <a routerLink="/dashboard/marketplace" routerLinkActive="bg-primary text-black border-primary"
            class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-sm select-none">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="shrink-0">
                <circle cx="8" cy="21" r="1" />
                <circle cx="19" cy="21" r="1" />
                <path d="M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12" />
            </svg>
            <span class="ml-3 font-bold tracking-wide truncate transition-opacity duration-300"
                [class.opacity-0]="collapsed" [class.w-0]="collapsed" [class.hidden]="collapsed">
                {{ 'SIDEBAR.MARKETPLACE' | translate }}
            </span>
        </a>



        <!-- Plan Configuration Menu -->
        <div class="space-y-1">
            <button (click)="togglePlanConfig()"
                class="w-full flex items-center justify-between px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-sm select-none">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <path d="m15.5 5.5 3 3L7 20H4v-3L15.5 5.5z"/>
                        <path d="M11 7 5.5 12.5"/>
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate transition-opacity duration-300"
                        [class.opacity-0]="collapsed" [class.w-0]="collapsed" [class.hidden]="collapsed">
                        {{ 'SIDEBAR.PLAN_CONFIG' | translate }}
                    </span>
                </div>
                <svg *ngIf="!collapsed" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="transition-transform duration-300" [class.rotate-180]="planConfigExpanded()">
                    <polyline points="6 9 12 15 18 9" />
                </svg>
            </button>

            <!-- Submenu -->
            <div *ngIf="planConfigExpanded() && !collapsed"
                class="ml-6 space-y-1 overflow-hidden transition-all duration-300">
                <a routerLink="/dashboard/master-user/sport-concepts"
                    routerLinkActive="bg-secondary text-black border-secondary"
                    class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-xs select-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z" />
                        <path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z" />
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate">
                        {{ 'SIDEBAR.SPORT_CONCEPTS' | translate }}
                    </span>
                </a>
                <a routerLink="/dashboard/master-user/concept-categories"
                    routerLinkActive="bg-secondary text-black border-secondary"
                    class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-xs select-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <path d="M3 3v18h18" />
                        <path d="M18.7 8l-5.1 5.2-2.8-2.7L7 14.3" />
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate">
                        {{ 'SIDEBAR.CATEGORIES' | translate }}
                    </span>
                </a>
                <a routerLink="/dashboard/itineraries"
                    routerLinkActive="bg-secondary text-black border-secondary"
                    class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-xs select-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z" />
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate">
                        {{ 'SIDEBAR.ITINERARIES' | translate }}
                    </span>
                </a>
                <a routerLink="/dashboard/my-templates"
                    routerLinkActive="bg-secondary text-black border-secondary"
                    class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-xs select-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2" />
                        <rect x="8" y="2" width="8" height="4" rx="1" ry="1" />
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate">
                        {{ 'SIDEBAR.TEMPLATES' | translate }}
                    </span>
                </a>
            </div>
        </div>

        <!-- System Configuration Menu -->
        <div class="space-y-1">
            <button (click)="toggleSystemConfig()"
                class="w-full flex items-center justify-between px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-sm select-none">
                <div class="flex items-center">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <path
                            d="M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z" />
                        <circle cx="12" cy="12" r="3" />
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate transition-opacity duration-300"
                        [class.opacity-0]="collapsed" [class.w-0]="collapsed" [class.hidden]="collapsed">
                        {{ 'SIDEBAR.SYSTEM_CONFIG' | translate }}
                    </span>
                </div>
                <svg *ngIf="!collapsed" xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24"
                    fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                    class="transition-transform duration-300" [class.rotate-180]="systemConfigExpanded()">
                    <polyline points="6 9 12 15 18 9" />
                </svg>
            </button>

            <!-- Submenu -->
            <div *ngIf="systemConfigExpanded() && !collapsed"
                class="ml-6 space-y-1 overflow-hidden transition-all duration-300">
                <a routerLink="/dashboard/master-user/seasons"
                    routerLinkActive="bg-secondary text-black border-secondary"
                    class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-xs select-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
                        <line x1="16" y1="2" x2="16" y2="6"></line>
                        <line x1="8" y1="2" x2="8" y2="6"></line>
                        <line x1="3" y1="10" x2="21" y2="10"></line>
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate">
                        Temporadas
                    </span>
                </a>
                <a routerLink="/dashboard/core-masters/subscription-sports"
                    routerLinkActive="bg-secondary text-black border-secondary"
                    class="flex items-center px-4 py-1.5 rounded-none border-2 border-transparent text-gray-400 hover:text-white hover:border-dark-border transition-all group cursor-pointer text-xs select-none">
                    <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none"
                        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                        class="shrink-0">
                        <circle cx="12" cy="12" r="10" />
                        <path d="M12 16v-4" />
                        <path d="M12 8h.01" />
                    </svg>
                    <span class="ml-3 font-bold tracking-wide truncate">
                        {{ 'SIDEBAR.SUBSCRIPTION_SPORTS' | translate }}
                    </span>
                </a>
            </div>
        </div>
    </nav>

    <!-- User Profile -->
    <div class="p-3 border-t-2 border-dark-border bg-dark-bg shrink-0">
        <!-- Language Switcher -->
        <div class="flex justify-center gap-2 text-xs font-bold text-gray-400 mb-3" *ngIf="!collapsed">
            <button (click)="switchLanguage('es')" [class.text-primary]="currentLang() === 'es'"
                class="hover:text-white transition-colors select-none">ES</button>
            <span>|</span>
            <button (click)="switchLanguage('en')" [class.text-primary]="currentLang() === 'en'"
                class="hover:text-white transition-colors select-none">EN</button>
        </div>

        <div class="flex items-center justify-between overflow-hidden">
            <div class="flex items-center overflow-hidden flex-1">
                <div
                    class="w-8 h-8 rounded-full bg-secondary flex items-center justify-center text-black font-bold shrink-0 border-2 border-white">
                    {{ userName().charAt(0).toUpperCase() }}
                </div>
                <div class="ml-3 overflow-hidden transition-all duration-300" [class.opacity-0]="collapsed"
                    [class.w-0]="collapsed">
                    <p class="text-sm font-bold text-white truncate">{{ userName() }}</p>
                    <p class="text-xs text-gray-500 truncate">{{ userEmail() }}</p>
                </div>
            </div>
            <button (click)="logout()"
                class="shrink-0 p-2 border-2 border-transparent hover:border-danger hover:text-danger text-gray-400 transition-all group select-none"
                [class.ml-2]="!collapsed" [title]="'SIDEBAR.LOGOUT' | translate">
                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none"
                    stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                    <path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
                    <polyline points="16 17 21 12 16 7" />
                    <line x1="21" y1="12" x2="9" y2="12" />
                </svg>
            </button>
        </div>
    </div>
</aside>