<!-- Compact Floating Bottom Toolbar -->
<div class="flex items-center gap-1 p-1.5 rounded-full bg-slate-800/90 backdrop-blur-md shadow-2xl border border-white/10">
    
    <!-- Selection Tool -->
    <button (click)="setTool('cursor')" 
        [class.bg-blue-500]="(activeTool$ | async) === 'cursor'" 
        [class.text-white]="(activeTool$ | async) === 'cursor'"
        class="w-9 h-9 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-all" title="Seleccionar">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5" /></svg>
    </button>

    <div class="w-px h-6 bg-white/10"></div>

    <!-- Line Tools Dropdown -->
    <div class="relative">
        <button (click)="toggleLineMenu()"
            [class.bg-blue-500]="['pass', 'movement', 'block', 'shot'].includes((activeTool$ | async) || '')"
            [class.text-white]="['pass', 'movement', 'block', 'shot'].includes((activeTool$ | async) || '')"
            class="w-9 h-9 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-all" title="L√≠neas">
            <svg class="w-4 h-4" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="5" y1="12" x2="19" y2="12" stroke-linecap="round"/>
                <polyline points="15 8 19 12 15 16" stroke-linecap="round" stroke-linejoin="round"/>
            </svg>
        </button>

        <!-- Dropdown Menu -->
        <div *ngIf="showLineMenu" class="absolute bottom-full left-1/2 -translate-x-1/2 mb-2 bg-slate-800 rounded-xl shadow-2xl border border-white/10 p-2 min-w-[140px]">
            <button (click)="selectLineType('pass')" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-all text-left">
                <svg class="w-5 h-5 text-blue-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="15 8 19 12 15 16"/></svg>
                <span class="text-xs font-medium">Pase</span>
            </button>
            <button (click)="selectLineType('movement')" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-all text-left">
                <svg class="w-5 h-5 text-green-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-dasharray="4 2"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="15 8 19 12 15 16" stroke-dasharray="0"/></svg>
                <span class="text-xs font-medium">Desplazamiento</span>
            </button>
            <button (click)="selectLineType('block')" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-all text-left">
                <svg class="w-5 h-5 text-yellow-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M4 12 Q7 8, 10 12 T16 12 T22 12"/></svg>
                <span class="text-xs font-medium">Bloqueo</span>
            </button>
            <button (click)="selectLineType('shot')" class="w-full flex items-center gap-3 px-3 py-2 rounded-lg hover:bg-white/10 text-gray-300 hover:text-white transition-all text-left">
                <svg class="w-5 h-5 text-red-400" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="3"><line x1="5" y1="19" x2="19" y2="5"/><polyline points="10 5 19 5 19 14"/></svg>
                <span class="text-xs font-medium">Tiro</span>
            </button>
        </div>
    </div>

    <div class="w-px h-6 bg-white/10"></div>
    
    <!-- Colors (Reduced) -->
    <div class="flex items-center gap-1 px-1">
        <button *ngFor="let color of colors" 
            (click)="setColor(color)"
            [style.background-color]="color"
            class="w-6 h-6 rounded-full border-2 border-transparent hover:scale-110 transition-transform"
            [class.border-white]="(activeColor$ | async) === color"
            [class.scale-110]="(activeColor$ | async) === color"
            [class.shadow-lg]="(activeColor$ | async) === color"
            [title]="color">
        </button>
    </div>

    <div class="w-px h-6 bg-white/10"></div>

    <!-- Add Elements -->
    <div class="flex items-center gap-0.5 bg-slate-700/50 rounded-full p-0.5">
        <button (click)="setTool('player')" 
            [class.bg-blue-500]="(activeTool$ | async) === 'player'" 
            [class.text-white]="(activeTool$ | async) === 'player'"
            class="w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-all" title="Jugador">
            <svg xmlns="http://www.w3.org/2000/svg" class="w-4 h-4" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z" /></svg>
        </button>
        <button (click)="setTool('ball')" 
            [class.bg-blue-500]="(activeTool$ | async) === 'ball'" 
            [class.text-white]="(activeTool$ | async) === 'ball'"
            class="w-8 h-8 rounded-full flex items-center justify-center transition-all" title="Bal√≥n">
            <span class="text-base" *ngIf="(currentSport$ | async) === 'football'">‚öΩ</span>
            <span class="text-base" *ngIf="(currentSport$ | async) === 'basketball'">üèÄ</span>
            <span class="text-base" *ngIf="(currentSport$ | async) === 'futsal'">‚öΩ</span>
            <span class="text-base" *ngIf="(currentSport$ | async) === 'handball'">ü§æ</span>
        </button>
        <button (click)="setTool('cone')" 
            [class.bg-blue-500]="(activeTool$ | async) === 'cone'" 
            [class.text-white]="(activeTool$ | async) === 'cone'"
            class="w-8 h-8 rounded-full flex items-center justify-center text-gray-400 hover:text-white hover:bg-white/10 transition-all" title="Cono">
            <span class="text-base">üî∫</span>
        </button>
    </div>

    <div class="w-px h-6 bg-white/10"></div>

    <!-- View/Sport Toggle -->
    <div class="flex items-center gap-0.5 bg-slate-700/50 rounded-full p-0.5">
        <button (click)="setViewMode('full')" 
            [class.bg-white/20]="(viewMode$ | async) === 'full'"
            class="px-2 py-1 rounded-full text-[10px] font-bold uppercase text-gray-400 hover:text-white transition-all"
            [class.text-white]="(viewMode$ | async) === 'full'">
            Full
        </button>
        <button (click)="setViewMode('half')" 
            [class.bg-white/20]="(viewMode$ | async) === 'half'"
            class="px-2 py-1 rounded-full text-[10px] font-bold uppercase text-gray-400 hover:text-white transition-all"
            [class.text-white]="(viewMode$ | async) === 'half'">
            ¬Ω
        </button>
    </div>

    <div class="w-px h-6 bg-white/10"></div>

    <!-- Sport Selector -->
    <div class="flex items-center gap-0.5 bg-slate-700/50 rounded-full p-0.5">
        <button (click)="setSport('football')" 
            [class.bg-emerald-500]="(currentSport$ | async) === 'football'"
            class="w-7 h-7 rounded-full flex items-center justify-center text-sm transition-all">
            ‚öΩ
        </button>
        <button (click)="setSport('basketball')" 
            [class.bg-orange-500]="(currentSport$ | async) === 'basketball'"
            class="w-7 h-7 rounded-full flex items-center justify-center text-sm transition-all">
            üèÄ
        </button>
    </div>

</div>
